(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[34],{255:(e,t,r)=>{"use strict";function n(e){let{moduleIds:t}=e;return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return n}}),r(5155),r(7650),r(5744),r(589)},2146:(e,t,r)=>{"use strict";function n(e){let{reason:t,children:r}=e;return r}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return n}}),r(5262)},3386:()=>{},3531:(e,t,r)=>{Promise.resolve().then(r.bind(r,7433))},4054:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{bindSnapshot:function(){return a},createAsyncLocalStorage:function(){return l},createSnapshot:function(){return i}});let r=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class n{disable(){throw r}getStore(){}run(){throw r}exit(){throw r}enterWith(){throw r}static bind(e){return e}}let s="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function l(){return s?new s:new n}function a(e){return s?s.bind(e):n.bind(e)}function i(){return s?s.snapshot():function(e,...t){return e(...t)}}},4363:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});var n=r(5155),s=r(6874),l=r.n(s);r(3386);let a=(0,r(5028).default)(()=>Promise.all([r.e(563),r.e(142)]).then(r.bind(r,4142)),{loadableGenerated:{webpack:()=>[4142]},ssr:!1});function i(e){let{title:t,showNavigation:r=!0}=e;return(0,n.jsx)("header",{className:"relative w-full",children:(0,n.jsxs)("div",{className:"relative h-[120px] overflow-hidden",children:[(0,n.jsx)("div",{className:"absolute inset-0",children:(0,n.jsx)(a,{})}),(0,n.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-white drop-shadow-lg z-10",children:t}),r&&(0,n.jsx)("nav",{className:"mt-2 z-10",children:(0,n.jsxs)("ul",{className:"flex space-x-6",children:[(0,n.jsx)("li",{children:(0,n.jsx)(l(),{href:"/",className:"text-white hover:text-gray-200 transition-colors",children:"首页"})}),(0,n.jsx)("li",{children:(0,n.jsx)(l(),{href:"/categories",className:"text-white hover:text-gray-200 transition-colors",children:"分类"})}),(0,n.jsx)("li",{}),(0,n.jsx)("li",{children:(0,n.jsx)(l(),{href:"/about",className:"text-white hover:text-gray-200 transition-colors",children:"关于"})})]})})]})]})})}},5028:(e,t,r)=>{"use strict";r.d(t,{default:()=>s.a});var n=r(6645),s=r.n(n)},5744:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return n.workAsyncStorageInstance}});let n=r(7828)},6645:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}});let n=r(8229)._(r(7357));function s(e,t){var r;let s={};"function"==typeof e&&(s.loader=e);let l={...s,...t};return(0,n.default)({...l,modules:null==(r=l.loadableGenerated)?void 0:r.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7357:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});let n=r(5155),s=r(2115),l=r(2146);function a(e){return{default:e&&"default"in e?e.default:e}}r(255);let i={loader:()=>Promise.resolve(a(()=>null)),loading:null,ssr:!0},o=function(e){let t={...i,...e},r=(0,s.lazy)(()=>t.loader().then(a)),o=t.loading;function c(e){let a=o?(0,n.jsx)(o,{isLoading:!0,pastDelay:!0,error:null}):null,i=!t.ssr||!!t.loading,c=i?s.Suspense:s.Fragment,u=t.ssr?(0,n.jsxs)(n.Fragment,{children:[null,(0,n.jsx)(r,{...e})]}):(0,n.jsx)(l.BailoutToCSR,{reason:"next/dynamic",children:(0,n.jsx)(r,{...e})});return(0,n.jsx)(c,{...i?{fallback:a}:{},children:u})}return c.displayName="LoadableComponent",c}},7433:(e,t,r)=>{"use strict";r.d(t,{default:()=>d});var n=r(5155),s=r(6874),l=r.n(s);r(3386);var a=r(2115),i=r(8999),o=r(4363);function c(e){let{showHomeLink:t=!1}=e,r=new Date().getFullYear();return(0,n.jsxs)("footer",{className:"mt-auto flex flex-col gap-[24px] items-center justify-center p-8",children:[(0,n.jsxs)("div",{className:"flex gap-[24px] flex-wrap items-center justify-center",children:[t&&(0,n.jsxs)(l(),{href:"/",className:"flex items-center gap-2 hover:underline hover:underline-offset-4",children:[(0,n.jsx)("i",{className:"bi bi-house","aria-hidden":"true"}),"返回首页"]}),(0,n.jsxs)("a",{className:"flex items-center gap-2 hover:underline hover:underline-offset-4",href:"https://nextjs.org?utm_source=create-next-app&utm_medium=appdir-template-tw&utm_campaign=create-next-app",target:"_blank",rel:"noopener noreferrer",children:[(0,n.jsx)("i",{className:"bi bi-globe text-gray-600"}),"Powered by NEXT.js"]})]}),(0,n.jsxs)("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700 text-center text-gray-500 text-sm w-full max-w-lg",children:["\xa9 2013 – ",r," 陈祥"]})]})}function u(e){let{number:t}=e,[r,s]=(0,a.useState)([]),[u,d]=(0,a.useState)(1),[f,x]=(0,a.useState)(2),[h,m]=(0,a.useState)(!0);(0,a.useEffect)(()=>{let e=parseInt(t,10);if(isNaN(e)||e<2)return void(0,i.notFound)();!async function(){try{m(!0);let t=await fetch("/api/posts");if(!t.ok)throw Error("Failed to fetch posts");let r=await t.json(),n=Math.ceil(r.length/10);if(e>n)return void(0,i.notFound)();x(e),d(n),s(r.slice((e-1)*10,10*e))}catch(e){console.error("Error fetching posts:",e)}finally{m(!1)}}()},[t]);let p=e=>{if("string"==typeof e){let t=new Date(e);return isNaN(t.getTime())?e:t.toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric"})}return e instanceof Date?e.toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric"}):""};return h?(0,n.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:"正在加载..."}):(0,n.jsxs)("div",{className:"flex flex-col min-h-screen font-[family-name:var(--font-geist-sans)]",children:[(0,n.jsx)(o.default,{title:"HCHEN90 博客"}),(0,n.jsx)("main",{className:"flex flex-col gap-[32px] items-center w-full max-w-4xl mx-auto p-8 sm:p-20",children:(0,n.jsxs)("section",{className:"w-full",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"博客文章"}),(0,n.jsx)("div",{className:"space-y-6",children:r.map(e=>{var t;let{id:r,title:s,date:a,summary:i,tags:o}=e,c=Array.isArray(a)?p(null!=(t=a[0])?t:""):p(null!=a?a:"");return(0,n.jsx)("article",{className:"border rounded-lg overflow-hidden hover:shadow-md transition-shadow duration-300",children:(0,n.jsx)(l(),{href:"/post/".concat((Array.isArray(r)?r.join("/"):null!=r?r:"").split("/").join("/")),className:"block p-5",children:(0,n.jsxs)("div",{className:"flex flex-col w-full",children:[(0,n.jsx)("h3",{className:"text-xl font-bold hover:text-blue-600 transition-colors w-full",children:s}),(0,n.jsx)("time",{dateTime:"string"==typeof a?a:Array.isArray(a)&&a.length>0?String(a[0]):a instanceof Date?a.toISOString():new Date().toISOString(),className:"text-sm text-gray-500 block mt-2",children:c}),i&&(0,n.jsx)("p",{className:"mt-3 text-gray-700 w-full",children:i}),o&&"string"==typeof o&&""!==o.trim()&&(0,n.jsx)("div",{className:"flex flex-wrap gap-2 mt-4",children:o.split(",").map(e=>(0,n.jsx)("span",{className:"bg-gray-100 text-gray-700 text-xs px-2 py-1 rounded-full",children:e.trim()},e.trim()))})]})})},Array.isArray(r)?r.join("-"):r)})}),(0,n.jsxs)("div",{className:"flex justify-center items-center space-x-2 mt-8",children:[(0,n.jsx)(l(),{href:2===f?"/":"/page/".concat(f-1),className:"px-4 py-2 border rounded bg-white hover:bg-gray-50 transition-colors",children:"上一页"}),(0,n.jsxs)("div",{className:"text-sm",children:[(0,n.jsx)("span",{className:"font-medium",children:f})," / ",u]}),f<u?(0,n.jsx)(l(),{href:"/page/".concat(f+1),className:"px-4 py-2 border rounded bg-white hover:bg-gray-50 transition-colors",children:"下一页"}):(0,n.jsx)("button",{className:"px-4 py-2 border rounded bg-gray-100 text-gray-400 cursor-not-allowed",disabled:!0,children:"下一页"})]})]})}),(0,n.jsx)(c,{showHomeLink:!0})]})}function d(e){let{number:t}=e;return(0,n.jsx)(u,{number:t})}},7828:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return n}});let n=(0,r(4054).createAsyncLocalStorage)()}},e=>{var t=t=>e(e.s=t);e.O(0,[675,874,441,684,358],()=>t(3531)),_N_E=e.O()}]);